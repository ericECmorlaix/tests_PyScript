<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PyScript Canvas</title>
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
  
<body>
  <div id="status">Chargement de la page ...</div>
  <br>
  

  <center><canvas id="mon_dessin" width="300" height="300"
    style="background-color:rgb(200, 200, 200)">
  </canvas></center>
   
  <py-script>

from js import document

document.getElementById("status").innerHTML = 'PyScript est chargé et prêt pour dessiner avec Python dans le Canvas ...'

canvas = document.getElementById("mon_dessin")
dessin = canvas.getContext("2d")

def maison() :
	# Set line width
	dessin.lineWidth = 10

	# Wall
	dessin.strokeRect(75, 140, 150, 110)

	# Door
	dessin.fillRect(130, 190, 40, 60)

	# Roof
	dessin.beginPath()
	dessin.moveTo(50, 140)
	dessin.lineTo(150, 60)
	dessin.lineTo(250, 140)
	dessin.closePath()
	dessin.stroke()

maison()

  </py-script>
<br>
<p>Pour modifier le dessin, exécuter successivement les instructions des cellules REPL ci-dessous avec la combinaison de touches ++"⇑ Maj."+"Entrée ↵"++...</p>
  <py-repl>
dessin.clearRect(0, 0, canvas.width, canvas.height)
  </py-repl>
  <py-repl>
dessin.fillStyle = 'rgb(220, 220, 220)'
dessin.fillRect(0, 0, 200, 160)
  </py-repl>
  <py-repl>
dessin.fillStyle = "yellow" 
dessin.fillRect(25, 40, 150, 80)
  </py-repl>
  <py-repl>
dessin.strokeStyle = '#FF0000'
dessin.strokeRect(25, 40, 150, 80)
  </py-repl>
  <py-repl>
dessin.clearRect(70, 50, 60, 60)
  </py-repl>
  <py-repl>
def efface_tout(toile) :
	toile.clearRect(0, 0, canvas.width, canvas.height)
  </py-repl>
  <py-repl>
efface_tout(dessin)
  </py-repl>
  <py-repl>
for i in range(10) :
	dessin.strokeRect(25*i, 40, 100, 80)
  </py-repl>
  <py-repl>
from math import pi

dessin.clearRect(0, 0, canvas.width, canvas.height)

def smile(x,y) :
	dessin.lineWidth = 4
	dessin.strokeStyle = 'cyan'
	dessin.beginPath()
	dessin.arc(x,y, 50, 0, pi * 2, True)
	dessin.moveTo(x+35, y)
	dessin.arc(x, y, 35, 0, pi, False)
	dessin.moveTo(x-10, y-10)
	dessin.arc(x-15, y-10, 5, 0, pi * 2, True)
	dessin.moveTo(x+20, y-10)
	dessin.arc(x+15, y-10, 5, 0, pi * 2, True)
	dessin.stroke()

smile(canvas.width/2, canvas.height/2)
  </py-repl>


    <py-repl id="my-repl" auto-generate=true>
# Coder vos propres dessin :
...
    </py-repl>
    <a href="./">Accueil</a>
</body>

</html>